{"ast":null,"code":"import { useEffect, useRef } from 'react';\nimport FrameCallbackRegistryJS from \"../frameCallback/FrameCallbackRegistryJS\";\nvar frameCallbackRegistry = new FrameCallbackRegistryJS();\nexport function useFrameCallback(callback) {\n  var autostart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var ref = useRef({\n    setActive: function setActive(isActive) {\n      frameCallbackRegistry.manageStateFrameCallback(ref.current.callbackId, isActive);\n      ref.current.isActive = isActive;\n    },\n    isActive: autostart,\n    callbackId: -1\n  });\n  useEffect(function () {\n    ref.current.callbackId = frameCallbackRegistry.registerFrameCallback(callback);\n    ref.current.setActive(ref.current.isActive);\n    return function () {\n      frameCallbackRegistry.unregisterFrameCallback(ref.current.callbackId);\n      ref.current.callbackId = -1;\n    };\n  }, [callback, autostart]);\n  return ref.current;\n}","map":{"version":3,"sources":["/Users/Benjamin/Dev/hoohacks/mindcraft-front/node_modules/react-native-reanimated/lib/reanimated2/hook/useFrameCallback.js"],"names":["useEffect","useRef","FrameCallbackRegistryJS","frameCallbackRegistry","useFrameCallback","callback","autostart","ref","setActive","isActive","manageStateFrameCallback","current","callbackId","registerFrameCallback","unregisterFrameCallback"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AACA,OAAOC,uBAAP;AACA,IAAMC,qBAAqB,GAAG,IAAID,uBAAJ,EAA9B;AACA,OAAO,SAASE,gBAAT,CAA0BC,QAA1B,EAAsD;AAAA,MAAlBC,SAAkB,uEAAN,IAAM;AACzD,MAAMC,GAAG,GAAGN,MAAM,CAAC;AACfO,IAAAA,SAAS,EAAE,mBAACC,QAAD,EAAc;AACrBN,MAAAA,qBAAqB,CAACO,wBAAtB,CAA+CH,GAAG,CAACI,OAAJ,CAAYC,UAA3D,EAAuEH,QAAvE;AACAF,MAAAA,GAAG,CAACI,OAAJ,CAAYF,QAAZ,GAAuBA,QAAvB;AACH,KAJc;AAKfA,IAAAA,QAAQ,EAAEH,SALK;AAMfM,IAAAA,UAAU,EAAE,CAAC;AANE,GAAD,CAAlB;AAQAZ,EAAAA,SAAS,CAAC,YAAM;AACZO,IAAAA,GAAG,CAACI,OAAJ,CAAYC,UAAZ,GACIT,qBAAqB,CAACU,qBAAtB,CAA4CR,QAA5C,CADJ;AAEAE,IAAAA,GAAG,CAACI,OAAJ,CAAYH,SAAZ,CAAsBD,GAAG,CAACI,OAAJ,CAAYF,QAAlC;AACA,WAAO,YAAM;AACTN,MAAAA,qBAAqB,CAACW,uBAAtB,CAA8CP,GAAG,CAACI,OAAJ,CAAYC,UAA1D;AACAL,MAAAA,GAAG,CAACI,OAAJ,CAAYC,UAAZ,GAAyB,CAAC,CAA1B;AACH,KAHD;AAIH,GARQ,EAQN,CAACP,QAAD,EAAWC,SAAX,CARM,CAAT;AASA,SAAOC,GAAG,CAACI,OAAX;AACH","sourcesContent":["import { useEffect, useRef } from 'react';\nimport FrameCallbackRegistryJS from '../frameCallback/FrameCallbackRegistryJS';\nconst frameCallbackRegistry = new FrameCallbackRegistryJS();\nexport function useFrameCallback(callback, autostart = true) {\n    const ref = useRef({\n        setActive: (isActive) => {\n            frameCallbackRegistry.manageStateFrameCallback(ref.current.callbackId, isActive);\n            ref.current.isActive = isActive;\n        },\n        isActive: autostart,\n        callbackId: -1,\n    });\n    useEffect(() => {\n        ref.current.callbackId =\n            frameCallbackRegistry.registerFrameCallback(callback);\n        ref.current.setActive(ref.current.isActive);\n        return () => {\n            frameCallbackRegistry.unregisterFrameCallback(ref.current.callbackId);\n            ref.current.callbackId = -1;\n        };\n    }, [callback, autostart]);\n    return ref.current;\n}\n"]},"metadata":{},"sourceType":"module"}